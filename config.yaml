# LLM Configuration
llm:
  model: "mistral/mistral-large-latest"  # Mistral's most capable model
  api_base: null  # Mistral uses their own endpoint (litellm knows it)

  # API Key distribution across stages (to avoid rate limits)
  api_key_assignments:
    intent_agent: "MISTRAL_API_KEY_1"
    prompt_enhancement: "MISTRAL_API_KEY_1"
    paradigm_agents: "MISTRAL_API_KEY_1"
    mutation_engine: "MISTRAL_API_KEY_2"
    diversity_archive: "MISTRAL_API_KEY_2"
    self_refinement: "MISTRAL_API_KEY_3"
    physics_critic: "MISTRAL_API_KEY_4"
    structured_debate: "MISTRAL_API_KEY_5"
    domain_critics: "MISTRAL_API_KEY_4"
    portfolio_ranker: "MISTRAL_API_KEY_1"

  temperature:
    paradigm_agents: 0.9
    mutation_engine: 0.85
    self_refinement: 0.5
    physics_critic: 0.3
    portfolio_ranker: 0.3
  max_retries: 3

# MCP Server Configuration
mcp:
  enterprise_docs:
    data_dir: "./input/enterprise_docs/"
  metadata:
    data_dir: "./input/metadata/"
  patterns_knowledge:
    data_dir: "./knowledge_base/"

# Pipeline Configuration
pipeline:
  # Stage 0a - Intent Agent
  intent_agent:
    enabled: true  # ENABLED with dedicated API key
    temperature: 0.4

  # Stage 0b - Prompt Enhancement
  prompt_enhancement:
    enabled: true  # ENABLED with dedicated API key

  # Stage 1 - Paradigm Agents
  paradigm_agents:
    enabled_agents: ["streaming", "event_sourcing", "declarative", "wildcard"]

  # Stage 2 - Mutation Engine
  mutation:
    operators_per_proposal: 1  # RESTORED to full value
    available_operators: ["invert", "merge", "eliminate", "analogize", "temporalize", "abstract"]

  # Stage 2.5 - Diversity Archive
  diversity_archive:
    enabled: true  # ENABLED with dedicated API key
    top_k: 10  # RESTORED to full value
    temperature: 0.2

  # Stage 3 - Self-Refinement
  self_refinement:
    rounds: 1  # RESTORED to full value

  # Stage 4.5 - Structured Debate
  structured_debate:
    enabled: true  # ENABLED with dedicated API key
    temperature:
      advocate: 0.6
      devil_advocate: 0.6
      judge: 0.3
    rounds: 3

  # Stage 4.7 - Domain Critics
  domain_critics:
    enabled: true  # ENABLED with dedicated API key
    critics: ["security", "cost", "org_readiness", "data_quality"]
    temperature: 0.3

  # EXISTING â€” unchanged
  portfolio:
    score_weights:
      innovation: 0.35
      feasibility: 0.25
      business_alignment: 0.25
      migration_complexity: 0.15

# Output Configuration
output:
  dir: "./outputs/"
  render_markdown_report: true
